{% extends 'base_content.html' %}
{% block content %}
<div class="container">
  <h1 class="text-center">Welcome, Tutor {{ user.username }}</h1>
  <p class="text-center">This is your tutor dashboard. Manage your lessons, schedule, and more here.</p>
  
  <div class="text-center mb-4">
    <a href="{% url 'log_out' %}" class="btn btn-danger">Log Out</a>
  </div>

  <!-- Nav Tabs for Dashboard Sections -->
  <ul class="nav nav-tabs" id="tutorDashboardTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="overview-tab" data-bs-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true">Overview</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="profile-tab" data-bs-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Edit Profile</a>
    </li>
  </ul>

  <div class="tab-content mt-3" id="tutorDashboardTabContent">
    <!-- Overview Tab Pane -->
    <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
      <h2>Your Lessons</h2>
      <p>Here you can see a summary of your upcoming lessons, recent changes, and other relevant information.</p>
      <!-- Additional overview content here -->
    </div>

    <!-- Edit Profile Tab Pane -->
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <h2>Update Your Profile</h2>
      <h3>User Details</h3>
      {% if form %}
        <form method="post" action="{% url 'profile' %}">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit" class="btn btn-primary">Save User Details</button>
        </form>
      {% else %}
        <p>No user form available. Please configure your view to pass a UserForm instance.</p>
      {% endif %}

      <hr>

      <h3>Tutor Profile Details</h3>
      {% if tutor_form %}
        <form method="post" action="{% url 'tutor_profile' %}">
          {% csrf_token %}
          {{ tutor_form.as_p }}
          <button type="submit" class="btn btn-primary">Save Tutor Profile</button>
        </form>
      {% else %}
        <p>No tutor form available. Please configure your view to pass a TutorProfileForm instance.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
